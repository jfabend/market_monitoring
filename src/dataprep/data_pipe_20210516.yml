# fill up the na values by their former values
# (The colnames stay the same afterwards)
p2:
  func: fill_na_with_last_value
  cols:
    - c_industrial_production__value
    - c_us_national_unemployment_rate__value
    - c_capacity_utilization__value
    - c_us_inflation_rate_monthly__value
    - c_bearmarket_days__value
    - c_ted_spread_credit_risk__value
    #- c_sugar_prices__value
    #- c_sp500__close
#p97:
# func: drop_na_rows
# Smoothing of the features
  # fed_funds_rate: 60, 120, 200 Tage
  # capa_util: 300, 600
  # us_unemployment: 300, 600, 900
  # industrial_production: 90, 180
  # sp500: 200
  # (adds prefix "_mavg_[days]" as colnames)
# p3:
#   func: rolling_mean
#   cols:
#     - c_fed_funds_rate__value
#   days: 60
p4:
  func: rolling_mean
  cols:
    - c_industrial_production__value
    - c_ted_spread_credit_risk__value
    #- c_sugar_prices__value
  days: 90
# p5:
#   func: rolling_mean
#   cols:
#     - c_fed_funds_rate__value
#   days: 120
# p96:
#   func: rolling_mean
#   cols:
#     - c_fed_funds_rate__value
#   days: 150
p99:
  func: rolling_mean
  cols:
    - c_industrial_production__value
    - c_ted_spread_credit_risk__value
    #- c_sugar_prices__value
  days: 180
# p6:
#   func: rolling_mean
#   cols:
#     - c_fed_funds_rate__value
#   days: 200
p7:
  func: rolling_mean
  cols:
    - c_capacity_utilization__value
    - c_us_national_unemployment_rate__value
    - c_sp500__close
    - c_ted_spread_credit_risk__value
    #- c_sugar_prices__value
  days: 300
p8:
  func: rolling_mean
  cols:
    - c_capacity_utilization__value
    - c_us_national_unemployment_rate__value
  days: 600
p98:
  func: rolling_mean
  cols:
    - c_us_national_unemployment_rate__value
  days: 900
# rate of change for the smoothed features
# (comparison to the value of the former day)
# Days of Smoothing of features
  # fed_funds_rate: 60, 120, 200
  # capa_util: 300, 600
  # us_unemployment: 300, 600, 900
  # industrial_production: 90, 180
  # sp500: 200
p10:
  func: col_past_percent_delta
  cols:
    #- c_industrial_production__value_mavg_90
    #- c_industrial_production__value_mavg_180
    - c_us_national_unemployment_rate__value_mavg_300
    - c_us_national_unemployment_rate__value_mavg_600
    - c_us_national_unemployment_rate__value_mavg_900
    - c_capacity_utilization__value_mavg_300
    - c_capacity_utilization__value_mavg_600
    # - c_fed_funds_rate__value_mavg_60
    # - c_fed_funds_rate__value_mavg_120
    # - c_fed_funds_rate__value_mavg_200
    # - c_ted_spread_credit_risk__value_mavg_300
    # - c_ted_spread_credit_risk__value_mavg_180
    # - c_ted_spread_credit_risk__value_mavg_90
    # - c_sugar_prices__value_mavg_300
    # - c_sugar_prices__value_mavg_180
    # - c_sugar_prices__value_mavg_90
  days: 180
p77:
  func: drop_na_rows
  special_col: 'c_bearmarket_days__value'
p76:
  func: remove_if_smaller
  cols: dim_time_year
  value: 1978
p75:
  func: remove_if_greater
  cols: dim_time_year
  value: 2021